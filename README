ActsAsConfirmable
=================

It is normal to use a boolean to represent whether something has been done or not, but sometimes it is useful to know who had said that it had been recorded and when they said this.

This plugin treats a datetime and integer pair as a boolean. It acts like a normal boolean and so can be used in a check box and additionally if the boolean is true then the user and date are accessible too. It makes the assumption that  there is a Users table and that the currently logged in user (the one that is confirming) can be found at User.current_user. If that fails it will assign the id 1 as the confirmer, and will show the result of User.find(1) as the confirmer.


Available fields
================

If a model has the attributes fields started_confirmed_at and started_confirmed_by, then the plugin provides:

* started? -- true if it has been confirmed by someone on a specific date
* started -- same as above but can be used by a check box
* started= -- the assignment method that is used by the check box when pos
* started_confirmer -- the user that confirmed it
* started_at -- when it was started


Example
=======

# rails confirm
# cd confirm
# script/generate scaffold user name:string
# script/generate scaffold item name:string started_confirmed_by:integer started_confirmed_at:datetime finished_confirmed_by:integer finished_confirmed_at:datetime ready_confirmed_by:integer ready_confirmed_at:datetime

class Item < ActiveRecord::Base
  acts_as_confirmable :started, :finished, :ready
end

class User < ActiveRecord::Base
  cattr_accessor :current_user
end

class ItemsController < ApplicationController
  before_filter :load_user
  
  def load_user
    User.current_user = User.find(:first)
  end
end

items/new.html.erb

<p>
  <%= f.label :started %><br />
  <%= f.check_box :started %> 
</p>
<p>
  <%= f.label :finished %><br />
  <%= f.check_box :finished %> 
</p>
<p>
  <%= f.label :ready %><br />
  <%= f.check_box :ready %> 
</p>

items/list.html.erb

<td><%=h item.started? %> <%= item.started_confirmer.name if item.started? %></td>


Copyright (c) 2008 Rob Clarke (kumo), released under the MIT license
